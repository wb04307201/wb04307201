# 百选考试平台需求文档

## 1. 项目概述

### 1.1 项目目标
支持多租户管理的在线考试平台，通过智能组卷、自动评分、错题解析及数据可视化功能实现考试全流程数字化。面向企业培训考核、学校月考、机构资格认证等高频考试场景。

### 1.2 目标用户
- 租户管理员：企业HR、教育机构教师、培训机构管理员
- 租户普通用户：员工、学生等考试参与者

## 2. 功能需求

### 2.1 用户认证模块

#### 2.1.1 注册/登录
- 未登录用户进入登录界面
- 输入手机号后点击"发送验证码"按钮调用@短信验证码发送验证码
- 输入验证码后点击"登录"按钮进行登录
- 未注册手机号登陆后直接完成注册，检查用户信息

#### 2.1.2 用户信息管理
- **无用户信息**：用户填报用户信息（姓名、学号/工号）
- **有用户信息**：检查租户关联

#### 2.1.3 租户关联
- **无租户用户**：可选择创建租户（自动成为租户管理员）或申请加入租户（需租户管理员审批，成为租户普通用户）
- **有租户用户**：直接进入系统
- **创建租户**：输入租户名称和描述，自动生成随机的tenant_id值
- **申请加入租户**：选择租户，填写申请理由，提交申请，租户管理员审批通过后加入租户

### 2.2 租户管理模块

#### 2.2.1 权限控制
- **租户普通用户权限**：租户管理模块不可见
- **租户管理员权限**：
    - 审批租户普通用户加入请求（支持批量操作）
    - 将租户普通用户移除租户
    - 将租户管理员权限转交给租户普通用户（需二次确认，转交后原租户管理员降级为租户普通用户）
    - 解散租户并清理全部关联数据（需二次确认，清理全部关联数据（试卷/答题记录/统计数据））

### 2.3 试卷管理模块

#### 2.3.1 试卷生成
- 租户管理员输入考试标题、考试描述（如「Java基础考试」）
- 考试描述调用@文本生成大模型生成100道选择题+答案
- 系统自动组卷保存（草稿状态，进度条显示生成进度）

#### 2.3.2 试卷审阅
- 租户管理员可修改题目/答案，提交修改
- 确认后发布试卷（状态转为「已发布」）

#### 2.3.3 试卷列表
- 按发布时间倒序展示
- 支持关键词搜索

### 2.4 答题与反馈模块

#### 2.4.1 答题流程
- 租户普通用户选择已发布试卷
- 系统随机排序题目
- 实时答题并自动评分

#### 2.4.2 错题本
- 自动收录错题
- 支持按时间/知识点筛选
- 每道错题显示题目、正确答案、用户答案、解析入口

#### 2.4.3 错题解析
- 点击错题可调用@文本生成大模型生成针对性解析

### 2.5 统计看板模块

#### 2.5.1 答题统计
- 租户管理员可查看已发布试卷的答题统计
- 整体通过率（≥60分视为通过）
- 各题目正确率分布
- 用户成绩排名

#### 2.5.2 数据可视化
- 采用柱状图展示正确率分布
- 折线图展示成绩趋势

## 3. 设计要求

### 3.1 字体与配色
- **字体**：主标题使用粗体黑体，副标题和正文使用常规宋体，按钮文字使用加粗微软雅黑
- **配色**：主色调为蓝色（#007BFF），用于标题、按钮和链接；辅助色调为灰色（#6C757D），用于正文和边框；背景色为白色（#FFFFFF），提升可读性

### 3.2 动效设计
- 按钮点击时，采用轻微的缩放效果（scale(0.98)），增强交互反馈
- 页面切换时，采用淡入淡出效果（opacity: 0 → 1），提升用户体验
- 进度条加载时，采用平滑的填充动画，直观展示生成进度

### 3.3 交互逻辑
- 所有操作均需用户主动触发，避免自动跳转或弹窗干扰
- 错误提示采用红色边框和文字，明确指出问题所在
- 成功操作采用绿色提示框，短暂显示后自动消失

### 3.4 界面布局
- 采用响应式设计，手机端采用单列布局，电脑端采用多列布局
- 导航栏固定在顶部，方便用户快速切换模块
- 内容区域采用卡片式设计，提升信息层次感

### 3.5 界面示例

#### 登录界面示例：
```
+---------------------------+
| 百选考试平台              |
| +---------------------+   |
| | 手机号：__________ |   |
| +---------------------+   |
| | 验证码：__________ |   |
| | [发送验证码]按钮    |   |
| +---------------------+   |
| | [登录]按钮          |   |
| +---------------------+   |
+---------------------------+
```

#### 试卷列表示例：
```
+---------------------------+
| 试卷列表                  |
| +---------------------+   |
| | 考试标题：Java基础  |   |
| | 考试描述：...       |   |
| | 状态：已发布        |   |
| +---------------------+   |
| | [审阅] [删除]按钮   |   |
| +---------------------+   |
| | ...（其他试卷）...  |   |
+---------------------------+
```

#### 统计看板示例：
```
+---------------------------+
| 统计看板                  |
| +---------------------+   |
| | 整体通过率：85%     |   |
| | 正确率分布柱状图    |   |
| | ▇▇▇▇▇▇▇▇▇▇      |   |
| | 成绩趋势折线图      |   |
| | ⬆️⬆️⬇️⬆️⬇️⬆️⬆️    |   |
| +---------------------+   |
+---------------------------+
```

## 4. 技术约束

### 4.1 多租户数据隔离
- 业务功能数据通过tenant_id字段实现多租户数据完全隔离
- 不同租户间数据完全不可见

### 4.2 响应式适配
- 需响应式适配（手机/电脑）
- 确保在不同设备上的良好用户体验