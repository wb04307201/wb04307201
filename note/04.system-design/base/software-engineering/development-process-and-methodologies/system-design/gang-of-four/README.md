# GoF设计模式/23种设计模式

**GoF（Gang of Four）设计模式，即《设计模式：可复用面向对象软件的基础》一书中提出的23种经典设计模式，可分为创建型、结构型和行为型三大类。
![img.png](img.png)
在软件研发的设计阶段尤为重要，是解决特定设计问题、提升代码质量的关键实践，同时其应用贯穿编码与重构阶段，对系统扩展性和维护性有深远影响。

### 一、创建型模式（5种）

创建型模式关注对象的创建过程，旨在提高程序的灵活性和可复用性，将对象的创建与使用分离。

1. **单例模式（Singleton）**：确保一个类只有一个实例，并提供全局访问点。常用于数据库连接池、日志管理器等场景。
2. **工厂方法模式（Factory Method）**：定义一个创建对象的接口，但让子类决定实例化哪个类。支持开闭原则，便于动态扩展产品类型。
3. **抽象工厂模式（Abstract Factory）**：提供创建相关或依赖对象家族的接口，无需指定具体类。适用于需要创建一系列相关对象的场景。
4. **建造者模式（Builder）**：将复杂对象的构建与其表示分离，支持分步骤构建和不同表示生成。适用于对象构造过程复杂且需灵活组合的场景。
5. **原型模式（Prototype）**：通过复制现有实例创建新对象，避免重复初始化。适用于游戏敌人复制、文档模板克隆等场景，需处理深拷贝与浅拷贝问题。

### 二、结构型模式（7种）

结构型模式关注类和对象的组合，旨在通过优化对象结构提升系统灵活性和扩展性。

1. **适配器模式（Adapter）**：转换不兼容接口，使原本无法协同工作的类可以合作。
2. **桥接模式（Bridge）**：分离抽象部分与实现部分，支持独立变化。适用于不同形状与颜色组合等场景。
3. **组合模式（Composite）**：将对象组合成树形结构，统一表示“部分-整体”层次关系。适用于文件系统中的文件与文件夹管理等场景。
4. **装饰器模式（Decorator）**：动态添加对象功能，替代继承扩展。适用于带日志记录的数据库操作等场景。
5. **外观模式（Facade）**：为复杂子系统提供统一接口，简化调用。适用于一键启动电脑等场景。
6. **享元模式（Flyweight）**：共享细粒度对象，减少内存消耗。适用于文本编辑器字符池等场景。
7. **代理模式（Proxy）**：控制对象访问，支持延迟加载、权限验证等功能。类型包括虚拟代理、保护代理、远程代理。

### 三、行为型模式（11种）

行为型模式关注对象间交互与职责分配，旨在提升系统协作效率。

1. **策略模式（Strategy）**：封装可互换算法族，支持运行时切换。适用于支付方式选择等场景。
2. **观察者模式（Observer）**：定义一对多依赖关系，状态变化时自动通知依赖对象。适用于订单支付通知等场景。
3. **责任链模式（Chain of Responsibility）**：沿处理链传递请求，解耦发送者与接收者。适用于多层审批流程等场景。
4. **命令模式（Command）**：封装请求为对象，支持撤销、队列等操作。适用于遥控器控制家电等场景。
5. **状态模式（State）**：对象行为随内部状态改变，封装状态转换逻辑。适用于订单状态流转等场景。
6. **模板方法模式（Template Method）**：定义算法骨架，子类重写特定步骤。适用于冲泡咖啡与茶的通用流程等场景。
7. **访问者模式（Visitor）**：封装多对象操作，支持新增行为而不修改对象结构。适用于聊天室消息转发等场景。
8. **迭代器模式（Iterator）**：统一遍历集合元素，隐藏内部表示。适用于树形结构遍历等场景。
9. **中介者模式（Mediator）**：封装对象交互，降低耦合度。适用于聊天室等场景。
10. **备忘录模式（Memento）**：保存与恢复对象状态，支持撤销操作。适用于文本编辑器撤销功能等场景。
11. **解释器模式（Interpreter）**：定义语言文法并实现解释器，支持语言扩展。适用于SQL解析等场景。